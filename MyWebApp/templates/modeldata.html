{% extends 'base.html' %}

{% block titleblock %}
<title>User Form</title>
<style>
  td, th {
    padding: 5px;
  }

  table {
    width: 90%;
    margin: 0vh auto;
  }

  th, td {
    border-bottom: 1px solid rgb(215, 215, 215); /* Only bottom border */
    border-right: 1px solid rgb(215, 215, 215); /* Vertical borders */
  }

  /* Remove right border from the last column */
  tr th:last-child, tr td:last-child {
    border-right: none;
  }

  tr:last-child td {
    border-bottom: none;
  }

  button {
    padding: 5px 15px;
    border: none;
    border-radius: 5px;
    transition: all 200ms;
  }

  .updateButton {
    background: #ffcf8b;
  }

  .updateButton:hover {
    background: #ffc472;
  }

  .deleteButton {
    background: #faafaf;
  }

  .deleteButton:hover {
    background: #ff9090;
  }

  .mainContainer {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 5vh 0px 10vh 0px;
  }
  
  .addBtnContainer{
    width: 90%;
    display: flex;
    justify-content: end;
    align-items: center;
    padding-inline: 2.5%;
    /* margin: auto; */
  }

  .addBtnContainer button {
    margin: 0px 10px;
  }

  .addButton {
    background: #c0ffb8;
  }

  .addButton:hover {
    background: #a0ed96;
  }

  .refreshButton {
    background: #d5f7ff;
  }

  .refreshButton:hover {
    background: #baebf5;
  }
</style>
{% endblock %}

{% block bodyblock %}
<div class="mainContainer">
  <div class="addBtnContainer">
    <a href="{% url 'register' %}" target="_blank"><button class="addButton">Add User</button></a>
    <a href="{% url 'alldata' %}"><button class="refreshButton">Refresh</button></a>
  </div>
  <table>
    <tr align="center">
      <th>S.No</th>
      <th>User ID</th>
      <th>Name</th>
      <th>Contacts</th>
      <th>Email</th>
      <th colspan="2">Actions</th>
    </tr>

    {% for i in data %}
    <tr align="center">
      <td>{{ forloop.counter }}</td>
      <td>{{ i.id }}</td>
      <td>{{ i.name }}</td>
      <td>{{ i.contact }}</td>
      <td>{{ i.email }}</td>
      <td><a href="{% url 'update' i.id %}"><button class="updateButton">Update</button></a></td>
      <td><a href="{% url 'delete' i.id %}"><button class="deleteButton">Delete</button></a></td>
    </tr>
    {% endfor %}
  </table>
</div>
{% endblock %}
